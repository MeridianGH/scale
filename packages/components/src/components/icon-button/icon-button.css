/**
 * @license
 * Scale https://github.com/telekom/scale
 *
 * Copyright (c) 2021 Egor Kirpichev and contributors, Deutsche Telekom AG
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */

:host {
  --icon-dimensions: 16px;
  --icon-dimensions-standard: 20px;
  --icon-dimensions-large: 24px;
  --radius: var(--telekom-radius-standard);
  --background: var(--telekom-color-background-canvas);
  --background-hover: var(--telekom-color-ui-state-fill-hovered);
  --background-pressed: var(--telekom-color-ui-state-fill-pressed);
  --background-active: var(--telekom-color-ui-state-fill-pressed);
  --spacing-icon-x: var(--telekom-spacing-unit-x2);
  --vertical-align: middle;
  --color: var(--telekom-color-text-and-icon-standard);
  --focus-outline: var(--telekom-line-weight-highlight) solid
    var(--telekom-color-functional-focus-standard);
  display: inline-flex;
}

[part~='base'] {
  border: 0;
  /* border-radius: var(--radius); */
  outline: none;
  cursor: pointer;
  user-select: none;
  font-family: inherit;
  word-spacing: inherit;
  letter-spacing: inherit;
  text-decoration: none;
  padding: 0;
  background: var(--background);
  vertical-align: var(--vertical-align); 
}
[part~='activate'], [part~='toggle'] {
  cursor: pointer;
}

[part~='size-standard'] {
  --icon-dimensions: var(--icon-dimensions-standard);
}

[part~='size-large'] {
  --icon-dimensions: var(--icon-dimensions-standard);
}

slot {
  color: var(--color);
}

/* <label> */
.icon-button {
  position: relative;
  /* display: inline-block;
  position: relative;
  z-index: 1;
  padding: 2em;
  margin: -2em;
  border: 2px solid red; */
}
.icon-button--wrapper {
  display: flex;
  align-items: center;
  justify-content: center;
  /* cursor: pointer; */
}

.icon-button--label-wrapper {
  font: var(--telekom-text-style-small);
}

.icon-button--plate {
  border-radius: 4px;
}

[part~='icon-button-standard'] {
  display: flex;
  flex-direction: column;
}

[part~='label-bottom'] {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
}

[part~='label-right'] {
  flex-direction: row;
  display: flex;
  align-items: center;
}


[part~='label-right'] .icon-button--label-wrapper{
  padding-left: 4px;
  height: 100%;
  display: flex;
  /* border: 1px solid orchid; */
}

input {
  position: absolute;
  margin: 0;
  top: 0;
  width: calc(var(--icon-dimensions));
  height: calc(var(--icon-dimensions));
  border: 0;
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
}

[part~='activate'] {
  display: flex;
  align-items: center;
  justify-content: center;
}



[part~='activate'][part~='label-bottom'],
[part~='toggle'][part~='label-bottom'] {
  align-items: center;
}

[part~='activate'][part~='label-bottom']
  .icon-button--label-wrapper,
[part~='toggle'][part~='label-bottom']
  .icon-button--label-wrapper {
  /* padding-left: 4px; */
}

[part~='toggle'] {
  display: flex;
  align-items: center;
  justify-content: center;
}

.icon-button--icon-wrapper {
  display: flex;
  align-items: center;
  justify-content: center;
  /* padding: 4px;
  margin: -4px; */
  border-radius: 4px;
}

[part~='activate'].icon-button--plate {
  background-color: var(--telekom-color-ui-state-fill-standard);
}

/* type: activate */

[part~='activate']:hover:not(.icon-button-active)
  .icon-button--plate,
[part~='base']:hover .icon-button--plate {
  background-color: var(--telekom-color-ui-state-fill-hovered);
  /* background-color: yellow; */
}

[part~='activate'][part~='active']
  .icon-button--plate {
  background-color: var(--telekom-color-ui-state-hovered);
}

[part~='activate']:active:not(.icon-button-active)
  .icon-button--plate,
[part~='base']:active .icon-button--plate {
  background-color: var(--telekom-color-ui-state-fill-pressed);
}

[part~='activate']:focus-within,
[part~='toggle']:focus-within,
[part~='base']:focus {
  outline: var(--focus-outline);
  outline-offset: var(--telekom-spacing-composition-space-01);
  outline-offset: 3px;
  border-radius: 4px;
}


[part~='size-standard'][part~='activate']:focus-within,
[part~='size-standard'][part~='toggle']:focus-within,
[part~='size-standard'] [part~='base']:focus {
  outline: var(--focus-outline);
  outline-offset: var(--telekom-spacing-composition-space-01);
  outline-offset: 5px;
  /* border-radius: 2px; */
}


[part~='size-large'][part~='activate']:focus-within,
[part~='size-large'][part~='toggle']:focus-within,
[part~='size-large'] [part~='base']:focus {
  outline: var(--focus-outline);
  outline-offset: var(--telekom-spacing-composition-space-01);
  outline-offset: 5px;
  border-radius: 4px;
}


[part~='activate'] input:focus,
[part~='toggle'] input:focus {
  outline: none;
}

/* [part~='base']:focus {
  outline: var(--focus-outline);
  outline-offset: var(--telekom-spacing-composition-space-01);
  border-radius: 4px;
} */

[part~='activate'][part~='active']:not(:active)
  .icon-button--plate {
  background-color: var(--telekom-color-ui-state-fill-hovered);
}

[part~='activate']:hover[part~='active']
  .icon-button--plate {
  background-color: var(--telekom-color-ui-state-fill-pressed);
}

[part~='activate'][part~='active']:active
  .icon-button--plate {
  background-color: transparent;
}

/* type: toggle */

[part~='toggle'][part~='active']
  .icon-button--plate {
  --color: var(--telekom-color-text-and-icon-primary-standard);
}

[part~='toggle']:hover .icon-button--plate,
[part~='activate']:hover .icon-button--plate  {
  background-color: var(--telekom-color-ui-state-fill-hovered);
}

[part~='toggle']:hover[part~='active']
  .icon-button--plate {
  --color: var(--telekom-color-text-and-icon-primary-hovered);
}

[part~='toggle']:active .icon-button--plate {
  background-color: var(--telekom-color-ui-state-fill-pressed);
}

[part~='toggle']:active[part~='active']
  .icon-button--plate {
  --color: var(--telekom-color-text-and-icon-primary-pressed);
}

/* [part~='size-large'] .icon-button--label-wrapper,
[part~='size-large'] .icon-button--label-wrapper {
  font-size: 14px;
  font-weight: 400;
  line-height: 140%;
  letter-spacing: 0;
} */

.icon-button--label-wrapper {
  display: flex;
  align-items: center;
  /* border: 2px solid purple; */
}


.icon-button--plate {
  display: flex;
  position: relative;
  z-index: 1;
  padding: 2px;
  margin: -2px;
  cursor: pointer;
}

[part~='size-standard'] .icon-button--plate {
  padding: 4px;
  margin: -4px;
}

[part~='size-large'] .icon-button--plate {
  padding: 4px;
  margin: -4px;
}


label {
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
}

[part~='disabled'] [part~='base'],
[part~='toggle'][part~='disabled'],
[part~='activate'][part~='disabled'], 
[part~='disabled'] .icon-button--plate {
  cursor: not-allowed;
}

[part~='disabled'] ::slotted(*),
[part~='disabled'] .icon-button--label-wrapper {
 color: var(--telekom-color-text-and-icon-disabled);  
}

[part~='disabled'] [part~='base']:hover .icon-button--plate,
[part~='toggle'][part~='disabled']:hover .icon-button--plate,
[part~='activate'][part~='disabled']:hover .icon-button--plate{
  background-color: transparent;
}

[part~='disabled'][part~='activate']:focus-within,
[part~='disabled'][part~='toggle']:focus-within,
[part~='disabled'] [part~='base']:focus {
  outline: none;
  border-radius: 0;
}